<!-- page_number: true -->
<!-- $size: 16:9 -->


FY19 VORTEX FUNトレーニング
Pythonチーム勉強会
==
第1回
2019.9.28

---

本日のアジェンダ
==

---

Pythonおさらい
==

---
Pythonとは　その１
==
- 1989年、オランダ人エンジニアであるグイド・ヴァン・ロッサム氏が発案、開発
- 「クリスマス休暇の暇つぶし」が開発のきっかけ
- 名称は、イギリスBBCのコメディ番組「空飛ぶモンティ・パイソン」から。本人が熱烈なファンだった
- オープンソースプロジェクトのリーダーに与えられる称号「優しい終身の独裁者」を最初に得た人物はこのグイド氏。なお2018年7月に引退している
- 科学技術計算や機械学習用ライブラリが充実しており、これらのジャンルでは事実上、標準言語となりつつある
-
---

Pythonとは　その２
==
- 強い動的型付け、インタプリタ型スクリプト言語（コンパイルが不要）
- オープンソースプロジェクトであり、利用は無料
- { }でなくインデントでループや条件分岐のネストを表現する
- 推奨される書式が規格化されているため、誰が書いても近い見た目になる＝コードが読みやすい
- OpenStack / ansible / yum などの著名なOSSの開発言語
- C言語で実装されたCPythonインタプリタが最も一般的だが、Javaで実装されたもの（Jython）、.NETで実装されたもの(IronPython)などがある。

---

Pythonのバージョン
==

- 現在使われているPythonには、バージョン２系と３系がある
- バージョン３では、利便性の向上やバージョン2での問題が解決された。が、
- バージョン２と３の間には**互換性がない**ので注意
- バージョン２系は２０２０年１月でサポートが終了
- RedHat系Linuxは最新版でもPython2が標準（yumなどはPython2で実装）
- 最新のUbuntu,Fedoraなどの先進LinuxではPython3が標準
	> Python2が入っていないのでansibleが動かなかったりする
## Pythonはバージョン３系を使いましょう！！
- 参画した案件でPython2を使っていたら、設計担当のSEは無能です。速やかに離脱しましょう。
- どうしても抜けられない場合は、Python3との互換性を保つ仕組みが沢山あるのでそれを使いましょう（今回は割愛）

---

Pythonプログラミングを始めよう
==

---



基本3構造
==
- どんな複雑なプログラムも、以下の3つの構造が組み合わさて動いているだけ
## 順次処理
- 上から順番に処理を実行する

## 条件分岐
- 条件よって処理を選択する
 
## 繰り返し
- 同じ処理を繰り返し実行する

> 人間も同じですよね

---

基本3構造のわかり易い例
==

## fizzbuzzプログラム
```
for i in range(1, 101):
    if i % 15 == 0:
        print("Fizz Buzz!")
    elif i % 3 == 0:
        print("Fizz!")
    elif i % 5 == 0:
        print("Buzz!")
    else:
        print(i)
```
- 変数 i が101になるまでiを1づつ増加　（for文、繰り返し）
- i が15、5、3で割り切れたら、それぞれの処理を実行（if文、条件分岐）
- 上記の処理を上から順に実行する（順次処理）

---

Pythonで扱うデータの種類
==

---
データは変数に入る
==

- 

---

クラス・モジュール・ライブラリ
==

---
pip

---

開発環境のススメ
==

---

開発環境とは
==

- プログラムを開発しやするするためのソフトウェアのこと
- 昨今ではIDE（統合開発環境）と呼ばれ、プログラムの作成、コンパイル、実行、デバッグ、製品としてパッケージ化するなどの豊富な機能を持つ
### IDEちょっと紹介
- Eclipse
	- Javaの無料開発環境として有名。プラグインが豊富。
- Intellij IDEA
	- JetBrains社によるIDE。 Java以外に、Pycharm（Python）,WebStorm(PHP/HTML)などの派生品がある。無料でもかなり高機能

---

なるべく「開発環境」を使おう
==
- サクラエディタや無垢なvimでもいいんですが・・・
	> ちなみにちゃんとvimはカスタマイズすると強力なIDEになります

### IDEを使った方がよい理由
- コード補完が効く　→　構文エラーなどを防げる、調べる時間を短縮できる
- シンタックスハイライトが効く　→　カッコの閉じ忘れ、スペルミスなどを防げる
- 開発→実行→デバッグの流れが非常にスムーズ
- なんかかっこいい

---

AWS Cloud9の紹介
==

- 本勉強会では、AWSのサービスである「Cloud9」を利用します

![](./cloud9.png)
- かっこいい！ 

---

AWS Cloud9の特徴
==

- webブラウザさえあればどこでもIDEを実行できる。IDEのインストールやメンテナンスは一切不要
- JavaScript、Python、PHP などの一般的なプログラム言語に対応
- 複数人で同時にコード編集が可能
- 標準で、git / docker / SAM（ServerlessApplicationModel）を提供
- ターミナルを持つので、sshターミナルの代用としても使える
- Cloud9自体の利用料金は無料。Cloud9の動くEC2にだけ課金される

---

Python仮想環境のススメ
==

---

Python製アプリを使うときに起こりうる問題・・・
==
- Pythonで書かれたアプリケーションは、様々なライブラリを利用している事が多い＝依存関係がある
- 複数のPython製アプリを１つのマシン内で動かしたい場合、アプリが依存するライブラリのバージョンが異なったりして問題が起こることがある
	- あるライブラリAを利用するPythonアプリBとCがあったとき、AをバージョンアップしたらアプリCが動かなくなる・・・とか割とよくある	
- アプリが使うPythonのバージョンが違う場合、Pythonをフルパスで指定したり依存ライブラリの場所を指定したりと、結構めんどくさい・・・

## Pythonアプリを閉じ込めて、他のPythonアプリと環境が混ざらないようにしよう＝仮想環境
- 環境を独立させておくと運用も楽です
---

具体的にはこんな感じ
==

```
+-----------------------------------------------------+
| +---------------+ +--------------+ +--------------+ |
| |               | |              | |              | |
| |               | |              | |              | |
| |  Python3.7    | | Python2.7    | | Python3.4    | |
| |  ansible==2.8 | | ansible==2.6 | | ansible==2.4 | |
| |  awscli==1.16 | | awscli==1.10 | | awscli==1.11 | |
| |               | |              | |              | |
| |   仮想環境1    | |  仮想環境2     | |  仮想環境3    | |
| |               | |              | |              | |
| +---------------+ +--------------+ +--------------+ |
+-----------------------------------------------------+
```
- それぞれの環境は独立しており、Python自体やライブラリの変更が他の環境に影響を与えることはない
- 仮想環境１でpythonコマンドを実行するとPython3.7が起動するが、仮想環境２の場合はPython2.7が起動する

---

仮想環境の種類
==
## virtualenv
- 元祖仮想環境（確か）。仮想環境で使うPythonのバージョンを指定することができる。
## pyenv
- 未インストールのPythonバージョンをネットから自動で取得できる。パスの通し方が独特らしいのと、日本独自仕様のため嫌いな人も多い。
## venv
- Python3.4からビルトイン。venvを実行したバージョンのPythonのみ利用可能。簡単なのでおすすめ。
## pipenv
- 最新型の仮想環境。詳細は後述。

---

とりあえずvenvを使ってみる
==
```
$ pip list
```
- インストールされたpipモジュールが沢山出てくるはず
```
$ python3 -m venv testenv
```
- testenvという仮想環境ができる。Pythonインタプリタは、Python3.7（実行したコマンドのバージョン）
```
$ source testenv/bin/activate
```
- これだけで、testenvの閉じた仮想環境に入る。プロンプトが変わっているはず
```
(testenv)$ pip list
```
- 最初のpip listの結果とは違うはずだ

---

とりあえずvenvを使ってみる
==



---
pipenvを使おう


---
## 第1回(9/28) Pythonおさらいと開発環境
#### 参加条件：PyQ 「未経験からのPython文法」のうち、「Python文法速習」までを修了している、もしくは同等の知識を持っている
### １．Pythonのおさらい
- 基本3構造
- 変数、リスト、辞書
- 関数、main関数
- Pythonインタプリタの使い方

### ２．開発環境のススメ
- 開発環境の必要性
- AWS Cloud9の紹介
 
### ３．仮想環境のススメ
- Python venvの紹介
- pipenvを使おう

### ４．git基礎
- gitとは
- git/gitlabの使い方
